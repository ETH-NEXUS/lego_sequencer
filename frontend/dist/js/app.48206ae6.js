(function(t){function e(e){for(var s,i,c=e[0],o=e[1],l=e[2],_=0,d=[];_<c.length;_++)i=c[_],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&d.push(a[i][0]),a[i]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s]);u&&u(e);while(d.length)d.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],s=!0,c=1;c<n.length;c++){var o=n[c];0!==a[o]&&(s=!1)}s&&(r.splice(e--,1),t=i(i.s=n[0]))}return t}var s={},a={app:0},r=[];function i(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=s,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=o;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var s=n("64a9"),a=n.n(s);a.a},"07a4":function(t,e,n){},"12cc":function(t,e,n){"use strict";var s=n("07a4"),a=n.n(s);a.a},"14dc":function(t,e,n){var s={"./lego_black.png":"71ae","./lego_blue.png":"e6ff","./lego_brown.png":"ae22","./lego_gray.png":"2e46","./lego_green.png":"fa2a","./lego_orange.png":"ea69","./lego_red.png":"2914","./lego_unknown.png":"9011","./lego_white.png":"eb40","./lego_yellow.png":"f342"};function a(t){var e=r(t);return n(e)}function r(t){if(!n.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}a.keys=function(){return Object.keys(s)},a.resolve=r,t.exports=a,a.id="14dc"},"1b6b":function(t,e,n){"use strict";var s=n("cd57"),a=n.n(s);a.a},2699:function(t,e,n){},2914:function(t,e,n){t.exports=n.p+"img/lego_red.abcae3bb.png"},"2e46":function(t,e,n){t.exports=n.p+"img/lego_gray.8d3cc1e9.png"},"32f40":function(t,e,n){"use strict";var s=n("4b0a"),a=n.n(s);a.a},"3a98":function(t,e,n){},"4b0a":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var s=n("2b0e"),a=n("8c4f"),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("nav",{staticClass:"navbar navbar-expand-md navbar-light bg-light fixed-top"},[s("a",{staticClass:"navbar-brand",attrs:{href:"/"}},[s("img",{staticClass:"d-inline-block align-top",attrs:{src:n("7db1"),alt:"ETH NEXUS",height:"30"}}),t._v("\n      LEGO Sequencer v0.1\n    ")]),t._m(0),s("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarsExampleDefault"}},[s("ul",{staticClass:"navbar-nav mr-auto"},[s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{to:"/",tag:"a"}},[t._v("Home")])],1),s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{to:"/debug",tag:"a"}},[t._v("Debug")])],1)])])]),s("main",{staticClass:"container",attrs:{role:"main"}},[s("div",{staticClass:"starter-template"},[s("router-view")],1)])])},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarsExampleDefault","aria-controls":"navbarsExampleDefault","aria-expanded":"false","aria-label":"Toggle navigation"}},[n("span",{staticClass:"navbar-toggler-icon"})])}],c={name:"app",components:{}},o=c,l=(n("034f"),n("2877")),u=Object(l["a"])(o,r,i,!1,null,null,null),_=u.exports,d=n("5f5b"),b=(n("ab8b"),n("2dd8"),n("845f"),n("8634"),n("ecee")),p=n("c074"),f=n("ad3d"),v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"steps"},[n("transition-group",{attrs:{name:"step",mode:"out-in"}},[0===t.current_step?n("div",{key:0,staticClass:"step",attrs:{id:"step1"}},[n("h1",[t._v("Welcome to the"),n("br"),t._v("LEGO Sequencer!")]),n("label",{attrs:{for:"name"}},[t._v("Please enter your name:")]),n("br"),n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text",id:"name",placeholder:"enter your name here"},domProps:{value:t.name},on:{submit:function(e){return t.proceed()},input:function(e){e.target.composing||(t.name=e.target.value)}}}),n("br"),n("button",{staticClass:"btn btn-primary",attrs:{disabled:!t.name},on:{click:function(e){return t.proceed()}}},[t._v("Continue")])]):1===t.current_step?n("div",{key:1,staticClass:"step",attrs:{id:"step2"}},[n("h1",[t._v("Scan Bricks")]),n("SingleSequencer",{attrs:{username:t.name},on:{"request-blast":t.request_blast}})],1):2===t.current_step?n("div",{key:2,staticClass:"step",attrs:{id:"step3"}},[n("h1",[t._v("BLAST Sequence")]),n("Blaster",{attrs:{sequence:t.active_sequence},on:{"results-displayed":t.blast_complete}}),t.ready_to_restart?n("div",[n("hr"),n("button",{staticClass:"btn btn-danger",on:{click:function(e){return t.restart()}}},[t._v("Start Over")])]):t._e()],1):t._e()])],1)},h=[],g=(n("7f7f"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"control_tray"},[s("button",{staticClass:"btn btn-primary",attrs:{disabled:t.active_read&&!t.scan_success},on:{click:t.scan_bricks}},[t._v("\n      "+t._s(t.scan_success?"Re-scan":"Scan")+" Bricks\n    ")]),s("div",{staticClass:"status"},[t.brick_error?s("span",{staticClass:"error"},[s("b",[t._v("Error:")]),t._v(" "+t._s(t.brick_error))]):"PENDING"!==t.brick_status?s("span",["SCANNING"===t.brick_status?s("fa-icon",{attrs:{icon:"circle-notch",spin:""}}):t._e(),t._v("\n          "+t._s(t.scan_status[t.brick_status])+"\n        ")],1):t._e()])]),t.active_read?s("div",{staticClass:"brick_tray"},[s("transition-group",{attrs:{name:"bouncy"}},t._l(t.active_read,function(t,e){return s("img",{key:e,staticClass:"brick_img",attrs:{width:"35",src:n("14dc")("./lego_"+t.color+".png"),alt:t.color+" brick"}})}),0)],1):t._e(),s("transition-group",{attrs:{name:"slideup"}},[t.active_read&&t.scan_success?s("div",{key:"angle-bracket"},[s("fa-icon",{key:"arrow-bit",attrs:{icon:"angle-double-down",size:"2x"}})],1):t._e(),t.active_read&&t.scan_success?s("div",{key:"translation",staticClass:"brick_tray translation"},t._l(t.active_read,function(e,n){return s("div",{key:n,staticClass:"translated_tile align-middle"},[t._v("\n        "+t._s(t.col_to_base[e.color]||"-")+"\n      ")])}),0):t._e(),t.active_read&&t.scan_success?s("div",{key:"blast_tray",staticClass:"control_tray"},[s("button",{staticClass:"btn btn-outline-secondary",on:{click:function(e){return t.copy_blast(t.active_read)}}},[t._v("Copy Sequence")]),s("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.request_blast(t.active_read)}}},[t._v("BLAST Sequence")])]):t._e()])],1)}),m=[],y=n("3667"),C={green:"A",blue:"C",red:"T",yellow:"G"},k=n("8dee"),q={PENDING:"pending",SCANNING:"scanning...",ERROR:"error",COMPLETE:"done!"},S={name:"SingleSequencer",props:{username:{type:String,required:!1}},data:function(){return{brick_status:"PENDING",brick_runs:[],active_read:null,brick_error:null,blast_pending:!1,scan_status:q,col_to_base:C,query_id:null}},computed:{scan_success:function(){return"COMPLETE"===this.brick_status}},methods:{scan_bricks:function(){var t=this;this.brick_error=null,this.brick_status="SCANNING",y({url:"http://localhost:5000/api/query_ev3?streaming=true&username=".concat(this.username)}).start(function(){t.active_read=[]}).node("!.{color}",function(e){t.active_read.push(e)}).node("!.{query_id}",function(e){t.query_id=e.query_id}).done(function(e){t.brick_status="COMPLETE"}).fail(function(e){t.active_read.push({color:"unknown"}),t.brick_status="ERROR",console.warn(e),t.brick_error=e.jsonBody&&e.jsonBody.error?e.jsonBody.error:e.body})},copy_blast:function(t){var e=t.map(function(t){return C[t.color]}).join(""),n=document.createElement("input"),s=e;document.body.appendChild(n),n.value=s,n.select(),document.execCommand("copy"),document.body.removeChild(n),this.$bvToast.toast("Copied ".concat(e," to clipboard"),{autoHideDelay:2e3,title:"Copied Sequence",variant:"info",toaster:"b-toaster-top-center",noCloseButton:!0})},request_blast:function(t){var e=t.map(function(t){return C[t.color]}).join("");this.$emit("request-blast",e)}}},w=S,x=(n("1b6b"),Object(l["a"])(w,g,m,!1,null,"4e028182",null)),E=x.exports,j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.sequence?n("div",{staticClass:"sequence_tray list-group-item"},[t._l(t.sequence,function(e,s){return n("div",{key:s,staticClass:"translated_tile align-middle"},[t._v("\n      "+t._s(e)+"\n    ")])}),n("button",{staticClass:"btn btn-primary",staticStyle:{"white-space":"nowrap"},attrs:{disabled:t.blast_pending},on:{click:function(e){return t.blast_sequence(t.sequence)}}},[t.blast_pending?n("span",[n("fa-icon",{attrs:{icon:"circle-notch",spin:""}}),t._v("\n        Running BLAST...\n      ")],1):n("span",[t._v(t._s(t.blast_result?"Re-run":"Run")+" BLAST")])])],2):t._e(),t.blast_status||t.blast_hits?n("div",{staticClass:"status_and_results"},[n("transition-group",{attrs:{name:"slideup",mode:"out-in"}},[!t.blast_result||!t.blast_first_five||t.blast_first_five.length<=0?n("div",{key:"status_pane",staticClass:"status_pane"},[n("h4",[t._v("Status:")]),n("div",{ref:"status_scroller",staticClass:"status_scroller"},[n("transition-group",{attrs:{name:"slideright",tag:"ol"}},t._l(t.blast_status,function(e,s){return n("li",{key:s},[t._v("\n              "+t._s(e.status)+"\n              "),t.blast_pending&&s===t.blast_status.length-1?n("fa-icon",{attrs:{icon:"circle-notch",spin:""}}):t._e()],1)}),0)],1)]):t._e(),t.blast_result?n("div",{key:"results_pane",staticClass:"results_pane"},[n("div",[n("h3",{staticStyle:{"text-align":"left"}},[t._v("Hits ("+t._s(t.blast_unique_hits.length)+") ("),n("a",{attrs:{href:t.job_url}},[t._v("view on NCBI")]),t._v("):")]),n("hr"),t.blast_unique_hits.length>0?n("div",[n("div",{staticClass:"species-tiles"},t._l(t.blast_visible_unique_hits,function(e){return n("div",{key:e.sciname,staticClass:"species-tile"},[n("SpeciesResult",{attrs:{species:e.sciname,score:e.score,payload:e.payload},on:{"show-details":t.show_details}})],1)}),0),t.blast_visible_hits<t.blast_unique_hits.length?n("div",[n("hr"),n("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.show_more_results()}}},[t._v("Show More Results")])]):t._e()]):n("div",{staticClass:"no-results"},[t._v("\n            No matching species found.\n            "),n("br"),t._v("\n            Try again with another sequence!\n          ")])])]):t._e()])],1):t._e(),n("Sidebar",{ref:"sidedar",scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.hit.payload.hsps,function(s,a){return n("div",{staticClass:"hit-data"},[e.hit.payload.hsps.length>1?n("h4",[t._v("Hit #"+t._s(a+1))]):t._e(),n("div",{staticClass:"sec"},[n("h3",[t._v("Score:")]),n("div",{staticClass:"value"},[t._v(t._s(s.score))])]),n("div",{staticClass:"sec"},[n("h3",[t._v("Query/Hit Strand:")]),n("div",{staticClass:"value"},[t._v(t._s(s.query_strand)+" / "+t._s(s.hit_strand))])]),n("div",{staticClass:"sec"},[n("h3",[t._v("Alignment:")]),n("div",{staticClass:"value"},[n("div",{staticClass:"mini-sec"},[n("b",[t._v("Length:")]),n("br"),t._v(t._s(s.align_len)+"\n            ")]),n("div",{staticClass:"mini-sec"},[n("b",[t._v("Bases:")]),n("div",{staticClass:"alignment"},[t._v(t._s(s.qseq)+"\n                "+t._s(s.midline)+"\n                "+t._s(s.hseq)+"\n              ")])])])])])})}}])})],1)},O=[],N=(n("386d"),n("a8fc")),B=n.n(N),T=(n("8fed"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card species-item",staticStyle:{width:"18rem"}},[t.species_url?n("img",{staticClass:"card-img-top",attrs:{src:t.species_url,alt:t.species}}):n("div",{staticClass:"card-img-top loading-img"},[t.loading?n("fa-icon",{attrs:{icon:"circle-notch",size:"6x",spin:""}}):t.error?n("fa-icon",{attrs:{icon:"question",size:"6x"}}):t._e()],1),n("div",{staticClass:"card-body"},[n("h5",{staticClass:"card-title"},[t._v(t._s(t.species))]),n("p",{staticClass:"card-text"},[t._v("Score: "+t._s(t.score))]),n("a",{staticClass:"btn btn-primary",attrs:{href:"#"},on:{click:function(e){return e.stopPropagation(),t.show_details(e)}}},[t._v("Details")]),t._v(" \n    "),n("a",{staticClass:"btn btn-success",attrs:{href:t.gsearch_url,target:"_blank"}},[t._v("Search "),n("fa-icon",{attrs:{icon:"external-link-alt"}})],1)])])}),R=[],P=(n("c5f6"),{name:"SpeciesResult",props:{species:{type:String,required:!0},score:{type:Number,required:!0},payload:{type:Object,required:!0}},data:function(){return{species_url:null,loading:!1,error:null}},computed:{gsearch_url:function(){return"https://www.google.com/search?safe=active&q=%22".concat(this.species,"%22")}},mounted:function(){var t=this;this.loading=!0,fetch("http://localhost:5000/api/species_img?species=".concat(this.species)).then(function(t){return t.json()}).then(function(e){if(t.loading=!1,!(e.results.length>0))throw{error:"no result found"};t.species_url=e.results[0]}).catch(function(e){t.loading=!1,t.error=e})},methods:{show_details:function(){this.$emit("show-details",{title:this.species,img_url:this.species_url,score:this.score,payload:this.payload})}}}),L=P,A=(n("7a61"),Object(l["a"])(L,T,R,!1,null,"0ce49b28",null)),$=A.exports,D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-modal",{ref:"sidebar",staticClass:"modal right fade",attrs:{id:"sidebar","cancel-disabled":""},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var s=e.ok;e.cancel,e.hide;return[n("b-button",{attrs:{variant:"primary"},on:{click:function(t){return s()}}},[t._v("Close")])]}}])},[n("template",{slot:"modal-title"},[n("h2",[t._v(t._s(t.display_title))])]),t.img_url?n("img",{staticClass:"img-fluid caption-img",attrs:{src:t.img_url,alt:t.display_title}}):t._e(),t.payload?n("div",{staticClass:"d-block"},[t._t("default",null,{hit:t.payload})],2):t._e()],2)},G=[],M={name:"Sidebar",props:{title:{type:String,required:!1}},data:function(){return{display_title:this.title,img_url:null,payload:null}},methods:{showModal:function(t){var e=t.title,n=t.img_url;e&&(this.display_title=e),n&&(this.img_url=n),this.payload=t,console.log(t),this.$refs.sidebar.show()}}},I=M,H=(n("32f40"),Object(l["a"])(I,D,G,!1,null,"6b939d07",null)),U=H.exports,z={name:"Blaster",components:{Sidebar:U,SpeciesResult:$},props:{sequence:{type:String,required:!1}},data:function(){return{blast_pending:!1,blast_status:null,blast_result:null,job_id:null,blast_visible_hits:6}},mounted:function(){this.sequence&&this.blast_sequence(this.sequence)},computed:{blast_hits:function(){return this.blast_result?this.blast_result.data.BlastOutput2[0].report.results.search.hits.map(function(t){return{sciname:t.description[0].sciname,score:t.hsps[0].score,payload:t}}):null},blast_unique_hits:function(){return this.blast_hits?B()(this.blast_hits,function(t){return t.sciname}):null},blast_visible_unique_hits:function(){return this.blast_unique_hits?this.blast_unique_hits.slice(0,this.blast_visible_hits):null},job_url:function(){return this.job_id?"https://blast.ncbi.nlm.nih.gov/blast/Blast.cgi?CMD=Get&RID=".concat(this.job_id):null}},methods:{blast_sequence:function(t){var e=this;console.log("BLASTing ",t),y("http://localhost:5000/api/blast?sequence=".concat(t)).start(function(){e.blast_pending=!0,e.blast_result=null,e.blast_visible_hits=6,e.blast_status=[{status:"BLASTing ".concat(t,"...")}]}).node("!.{status}",function(t){console.log(t),e.blast_status.push(t),t.job_id&&(e.job_id=t.job_id);var n=e.$refs.status_scroller;n&&setTimeout(function(){n.scrollTop=n.scrollHeight},10)}).node("!.{results}",function(n){console.log("Done: ",n),e.blast_result={sequence:t,data:n.results}}).done(function(){e.blast_pending=!1,e.$emit("results-displayed")}).fail(function(t){e.blast_status.push({status:"Error occurred during request, terminated."}),e.blast_pending=!1})},show_details:function(t){this.$refs.sidedar.showModal(t)},show_more_results:function(){this.blast_visible_hits+=6}}},F=z,J=(n("f761"),Object(l["a"])(F,j,O,!1,null,"66dd679c",null)),Q=J.exports,W={name:"Process",components:{Blaster:Q,SingleSequencer:E},data:function(){return{name:"",current_step:0,active_sequence:null,ready_to_restart:!1}},methods:{restart:function(){var t=this;this.current_step=99,window.scroll({top:0,left:0,behavior:"smooth"}),setTimeout(function(){t.name="",t.current_step=0,t.active_sequence=null,t.ready_to_restart=!1},300)},proceed:function(){0===this.current_step?this.name&&(this.current_step=1):1===this.current_step&&this.active_sequence&&(this.current_step=2)},request_blast:function(t){this.active_sequence=t,this.proceed()},blast_complete:function(){console.log("BLAST done!"),this.ready_to_restart=!0}}},X=W,K=(n("12cc"),Object(l["a"])(X,v,h,!1,null,"7b48b970",null)),V=K.exports,Y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v("LEGO Sequencer (Debug)")]),n("div",{staticClass:"step"},[n("h2",[t._v("1. Nudge Controls")]),n("div",{staticClass:"controls",staticStyle:{"align-items":"baseline"}},[n("button",{staticClass:"btn btn-sm btn-primary",on:{click:function(e){return t.nudge("left",t.nudge_amount)}}},[t._v("« nudge left")]),n("button",{staticClass:"btn btn-sm btn-primary",on:{click:function(e){return t.nudge("right",t.nudge_amount)}}},[t._v("nudge right »")]),n("label",[t._v("Bricks:\n        "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.nudge_amount,expression:"nudge_amount"}],attrs:{type:"number",name:"amount"},domProps:{value:t.nudge_amount},on:{input:function(e){e.target.composing||(t.nudge_amount=e.target.value)}}})])]),n("div",{staticClass:"results"},[t._v("\n      "+t._s(t.response)+"\n    ")])])])},Z=[];function tt(t){if(!t.ok&&t.error)throw console.warn("Failed: ",t),t;return t}var et={name:"Debug",data:function(){return{nudge_amount:1,response:"..."}},methods:{ping:function(){var t=this;fetch("http://localhost:5000/api/ping").then(function(t){return t.json()}).then(function(e){t.response=e.msg})},nudge:function(t,e){var n=this;fetch("http://localhost:5000/api/nudge/".concat(t,"/").concat(e)).then(tt).then(function(t){return t.json()}).then(function(t){n.response=t.msg}).catch(function(t){n.response=t})}}},nt=et,st=Object(l["a"])(nt,Y,Z,!1,null,"947947b4",null),at=st.exports,rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",[n("h2",[t._v("Scan Sequence")]),n("Sequencer",{on:{"request-blast":t.request_blast}})],1),n("div",[n("h2",[t._v("BLAST Results")]),n("Blaster",{attrs:{sequence:t.active_sequence}})],1)])},it=[],ct=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"step"},[s("div",{staticClass:"controls"},[s("button",{staticClass:"btn btn-primary",attrs:{disabled:t.active_read},on:{click:t.scan_bricks}},[t._v("scan bricks")]),s("button",{staticClass:"btn btn-danger",on:{click:t.clear_all}},[t._v("clear runs")]),s("span",{staticClass:"status"},[t.brick_error?s("span",{staticClass:"error"},[s("b",[t._v("Error:")]),t._v(" "+t._s(t.brick_error))]):s("span",["SCANNING"===t.brick_status?s("fa-icon",{attrs:{icon:"spinner",pulse:""}}):t._e(),t._v("\n          "+t._s(t.scan_status[t.brick_status])+"\n        ")],1)])]),s("ul",{staticClass:"list-group",staticStyle:{"margin-top":"1em"}},[t._l(t.brick_runs,function(e,a){return s("li",{key:e.name,class:"list-group-item brick_run "+(e.name==t.selected_run?"selected":"")},[s("div",{staticClass:"seq_brick_tray"},[s("button",{staticClass:"blaster-btn btn-sm btn btn-danger",on:{click:function(n){return t.remove_sequence(e.name)}}},[s("fa-icon",{attrs:{icon:"trash"}})],1),s("button",{staticClass:"blaster-btn btn-sm btn btn-primary",on:{click:function(n){return t.request_blast(e.name)}}},[t._v("BLAST")]),t._l(e.data,function(t,e){return s("img",{key:e,staticClass:"brick_img",attrs:{width:"30",src:n("14dc")("./lego_"+t.color+".png")}})})],2)])}),t.active_read?s("li",{staticClass:"list-group-item brick_run active_read"},[s("div",{staticClass:"brick_tray"},[s("button",{staticClass:"blaster-btn btn-sm btn btn-secondary",attrs:{disabled:""}},[s("fa-icon",{attrs:{icon:"trash"}})],1),s("button",{staticClass:"blaster-btn btn-sm btn btn-secondary",attrs:{disabled:""}},[t._v("BLAST")]),t._l(t.active_read,function(t,e){return s("img",{key:e,staticClass:"brick_img",attrs:{width:"30",src:n("14dc")("./lego_"+t.color+".png")}})})],2)]):t._e()],2)])},ot=[],lt=(n("7514"),{PENDING:"pending",SCANNING:"scanning...",ERROR:"error",COMPLETE:"done!"}),ut={name:"Sequencer",data:function(){return{brick_status:"PENDING",brick_runs:[],active_read:null,brick_error:null,blast_pending:!1,scan_status:lt,selected_run:null}},methods:{scan_bricks:function(){var t=this;this.brick_error=null,this.brick_status="SCANNING",y({url:"http://localhost:5000/api/query_ev3?streaming=true"}).start(function(){t.active_read=[]}).node("!.*",function(e){t.active_read.push(e)}).done(function(e){t.brick_status="COMPLETE",t.brick_runs.push({name:Object(k["generate"])(),data:e}),t.active_read=null}).fail(function(e){t.active_read.push({color:"unknown"}),t.brick_status="ERROR",console.warn(e),t.brick_error=e.jsonBody&&e.jsonBody.error?e.jsonBody.error:e.body})},remove_sequence:function(t){confirm("Remove this entry?")&&(this.brick_runs=this.brick_runs.filter(function(e){return e.name!==t}),this.selected_run===t&&(this.selected_run=null))},clear_all:function(){confirm("Clear all entries?")&&(this.brick_runs=[],this.selected_run=null)},request_blast:function(t){var e=this.brick_runs.find(function(e){return e.name===t});if(e){this.selected_run=t;var n=e.data.map(function(t){return C[t.color]}).join("");this.$emit("request-blast",n)}else alert("Unable to find sequence with name ".concat(t,"!"))}}},_t=ut,dt=(n("806a"),Object(l["a"])(_t,ct,ot,!1,null,"7a56728c",null)),bt=dt.exports,pt={name:"Home",components:{Blaster:Q,Sequencer:bt},data:function(){return{active_sequence:null}},methods:{request_blast:function(t){console.log("BLAST requested: ",t),this.active_sequence=t}}},ft=pt,vt=Object(l["a"])(ft,rt,it,!1,null,"0240b25a",null),ht=vt.exports;s["default"].config.productionTip=!1,s["default"].use(d["a"]),b["c"].add(p["h"],p["f"],p["g"],p["b"],p["a"],p["d"],p["e"],p["c"]),s["default"].component("fa-icon",f["a"]),s["default"].use(a["a"]);var gt=new a["a"]({mode:"history",routes:[{path:"/",component:V,name:"home"},{path:"/debug",component:at,name:"debug"},{path:"/designer",component:ht,name:"designer"}]});new s["default"]({render:function(t){return t(_)},router:gt}).$mount("#app")},"64a9":function(t,e,n){},"71ae":function(t,e,n){t.exports=n.p+"img/lego_black.e0a5cc99.png"},"7a61":function(t,e,n){"use strict";var s=n("2699"),a=n.n(s);a.a},"7db1":function(t,e,n){t.exports=n.p+"img/nexus_icon.ebd95bd1.png"},"806a":function(t,e,n){"use strict";var s=n("be9b"),a=n.n(s);a.a},"845f":function(t,e,n){},8634:function(t,e,n){},9011:function(t,e,n){t.exports=n.p+"img/lego_unknown.dd4533c5.png"},ae22:function(t,e,n){t.exports=n.p+"img/lego_brown.e0a9636d.png"},be9b:function(t,e,n){},cd57:function(t,e,n){},e6ff:function(t,e,n){t.exports=n.p+"img/lego_blue.55fcb86d.png"},ea69:function(t,e,n){t.exports=n.p+"img/lego_orange.e7ba1561.png"},eb40:function(t,e,n){t.exports=n.p+"img/lego_white.3d50df46.png"},f342:function(t,e,n){t.exports=n.p+"img/lego_yellow.31595d79.png"},f761:function(t,e,n){"use strict";var s=n("3a98"),a=n.n(s);a.a},fa2a:function(t,e,n){t.exports=n.p+"img/lego_green.4179fe81.png"}});
//# sourceMappingURL=app.48206ae6.js.map